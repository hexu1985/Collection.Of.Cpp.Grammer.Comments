(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{1374:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r,o=n(16),i=n(4),c=n(0),a=n(123),u=n(1),l=n(50),s=n(492),d=n(79),f=n(118),h={comment_img:"comment_img",dynamic_top:"dynamic_top",comment_sticker:"comment_sticker",block_keyword:"block_keyword"},b=(r={},Object(i.a)(r,h.comment_img,"https://pic1.zhimg.com/v2-1b6677f81c2df41f55332474e15bc5a8.png"),Object(i.a)(r,h.dynamic_top,"https://pic1.zhimg.com/v2-e16a265a43592abd5b98fceef02a1614.png"),Object(i.a)(r,h.comment_sticker,"https://pic1.zhimg.com/v2-183a98cd480d24cd3e3246ba7a26303b.png"),Object(i.a)(r,h.block_keyword,"https://pic3.zhimg.com/v2-0ad4e8aa43c3279cc7536f2fb7ac8348.png"),r);t.b=Object(d.a)((function(e){var t=e.show,n=e.setShow,r=e.type,i=e.isLogin,d=Object(u.useState)(""),h=Object(o.a)(d,2),p=h[0],v=h[1],m=Object(u.useState)(!1),g=Object(o.a)(m,2),O=g[0],j=g[1],y=Object(f.b)(),x=Object(a.a)((function(){t&&n(!1)}));return Object(u.useEffect)((function(){!p&&i&&(j(!0),y("/api/v4/unlimited/vip_rights/popup?token="+r).then((function(e){v(e.payload.button.text)})).catch((function(){})).then((function(){j(!1)})))}),[t]),Object(c.b)(l.b,{css:{".Modal-content":{padding:0,marginTop:0}},onClose:x,children:t&&!O&&Object(c.c)(c.a,{children:[Object(c.b)("img",{alt:"",src:b[r],css:{height:"230px",width:"400px",display:"block"}}),Object(c.b)("div",{css:{padding:20},children:Object(c.b)("div",{role:"button",tabIndex:0,css:function(e){return{padding:8,background:"linear-gradient(135deg, ".concat(e.colors.GYL06A," 0.2%, ").concat(e.colors.GYL08A," 100%)"),borderRadius:3,textAlign:"center",fontsize:14,color:e.colors.GYL12A,userSelect:"none","&:hover":{cursor:"pointer"}}},onClick:s.a.show,children:p||"开通会员立即解锁"})})]})})}))},1380:function(e,t,n){var r=n(898),o=n(900),i=n(703),c=n(899);e.exports=function(e){return r(e)||o(e)||i(e)||c()},e.exports.__esModule=!0,e.exports.default=e.exports},1441:function(e,t,n){"use strict";n.d(t,"a",(function(){return J})),n.d(t,"b",(function(){return $})),n.d(t,"c",(function(){return X})),n.d(t,"d",(function(){return Z}));var r=n(1);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function o(e,t,n,r){return new(n||(n=Promise))((function(o,i){function c(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}u((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(o=c.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var c,a=function(){},u=a(),l=Object,s=function(e){return e===u},d=function(e){return"function"==typeof e},f=function(e,t){return l.assign({},e,t)},h=function(){return"undefined"!=typeof window},b=new WeakMap,p=0,v=function e(t){var n,r,o=typeof t,i=t&&t.constructor,c=i==Date;if(l(t)!==t||c||i==RegExp)n=c?t.toJSON():"symbol"==o?t.toString():"string"==o?JSON.stringify(t):""+t;else{if(n=b.get(t))return n;if(n=++p+"~",b.set(t,n),i==Array){for(n="@",r=0;r<t.length;r++)n+=e(t[r])+",";b.set(t,n)}if(i==l){n="#";for(var a=l.keys(t).sort();!s(r=a.pop());)s(t[r])||(n+=r+":"+e(t[r])+",");b.set(t,n)}}return n},m=!0,g=h(),O="undefined"!=typeof document,j=g&&window.addEventListener?window.addEventListener.bind(window):a,y=O?document.addEventListener.bind(document):a,x=g&&window.removeEventListener?window.removeEventListener.bind(window):a,w=O?document.removeEventListener.bind(document):a,z={isOnline:function(){return m},isVisible:function(){var e=O&&document.visibilityState;return s(e)||"hidden"!==e}},k={initFocus:function(e){return y("visibilitychange",e),j("focus",e),function(){w("visibilitychange",e),x("focus",e)}},initReconnect:function(e){var t=function(){m=!0,e()},n=function(){m=!1};return j("online",t),j("offline",n),function(){x("online",t),x("offline",n)}}},S=!h()||"Deno"in window,C=function(e){return h()&&void 0!==window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,1)},I=S?r.useEffect:r.useLayoutEffect,E="undefined"!=typeof navigator&&navigator.connection,R=!S&&E&&(["slow-2g","2g"].includes(E.effectiveType)||E.saveData),A=function(e){if(d(e))try{e=e()}catch(t){e=""}var t=[].concat(e);return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?v(e):"",t,e?"$swr$"+e:""]},P=new WeakMap,B=function(e,t,n,r,o,i,c){void 0===c&&(c=!0);var a=P.get(e),u=a[0],l=a[1],s=a[3],d=u[t],f=l[t];if(c&&f)for(var h=0;h<f.length;++h)f[h](n,r,o);return i&&(delete s[t],d&&d[0])?d[0](2).then((function(){return e.get(t)})):e.get(t)},M=0,L=function(){return++M},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(void 0,void 0,void 0,(function(){var t,n,r,o,c,a,l,h,b,p,v,m,g,O,j,y,x,w,z,k,S;return i(this,(function(i){switch(i.label){case 0:if(t=e[0],n=e[1],r=e[2],o=e[3],a=!!s((c="boolean"==typeof o?{revalidate:o}:o||{}).populateCache)||c.populateCache,l=!1!==c.revalidate,h=!1!==c.rollbackOnError,b=c.optimisticData,p=A(n),v=p[0],m=p[2],!v)return[2];if(g=P.get(t),O=g[2],e.length<3)return[2,B(t,v,t.get(v),u,u,l,!0)];if(j=r,x=L(),O[v]=[x,0],w=!s(b),z=t.get(v),w&&(k=d(b)?b(z):b,t.set(v,k),B(t,v,k)),d(j))try{j=j(t.get(v))}catch(e){y=e}return j&&d(j.then)?[4,j.catch((function(e){y=e}))]:[3,2];case 1:if(j=i.sent(),x!==O[v][0]){if(y)throw y;return[2,j]}y&&w&&h&&(a=!0,j=z,t.set(v,z)),i.label=2;case 2:return a&&(y||(d(a)&&(j=a(j,z)),t.set(v,j)),t.set(m,f(t.get(m),{error:y}))),O[v][1]=L(),[4,B(t,v,j,y,u,l,!!a)];case 3:if(S=i.sent(),y)throw y;return[2,a?S:j]}}))}))},N=function(e,t){for(var n in e)e[n][0]&&e[n][0](t)},D=function(e,t){if(!P.has(e)){var n=f(k,t),r={},o=T.bind(u,e),i=a;if(P.set(e,[r,{},{},{},o]),!S){var c=n.initFocus(setTimeout.bind(u,N.bind(u,r,0))),l=n.initReconnect(setTimeout.bind(u,N.bind(u,r,1)));i=function(){c&&c(),l&&l(),P.delete(e)}}return[e,o,i]}return[e,P.get(e)[4]]},F=D(new Map),_=F[0],V=F[1],H=f({onLoadingSlow:a,onSuccess:a,onError:a,onErrorRetry:function(e,t,n,r,o){var i=n.errorRetryCount,c=o.retryCount,a=~~((Math.random()+.5)*(1<<(c<8?c:8)))*n.errorRetryInterval;!s(i)&&c>i||setTimeout(r,a,o)},onDiscarded:a,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:R?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:R?5e3:3e3,compare:function(e,t){return v(e)==v(t)},isPaused:function(){return!1},cache:_,mutate:V,fallback:{}},z),K=function(e,t){var n=f(e,t);if(t){var r=e.use,o=e.fallback,i=t.use,c=t.fallback;r&&i&&(n.use=r.concat(i)),o&&c&&(n.fallback=f(o,c))}return n},G=Object(r.createContext)({}),U=function(e){return d(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}]},Z=function(){return f(H,Object(r.useContext)(G))},W=function(e,t,n){var r=t[e]||(t[e]=[]);return r.push(n),function(){var e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}},Y={dedupe:!0},J=l.defineProperty((function(e){var t=e.value,n=K(Object(r.useContext)(G),t),o=t&&t.provider,i=Object(r.useState)((function(){return o?D(o(n.cache||_),t):u}))[0];return i&&(n.cache=i[0],n.mutate=i[1]),I((function(){return i?i[2]:u}),[]),Object(r.createElement)(G.Provider,f(e,{value:n}))}),"default",{value:H}),X=function(e){return A(e)[0]},$=(c=function(e,t,n){var c=n.cache,a=n.compare,l=n.fallbackData,h=n.suspense,b=n.revalidateOnMount,p=n.refreshInterval,v=n.refreshWhenHidden,m=n.refreshWhenOffline,g=P.get(c),O=g[0],j=g[1],y=g[2],x=g[3],w=A(e),z=w[0],k=w[1],E=w[2],R=Object(r.useRef)(!1),M=Object(r.useRef)(!1),N=Object(r.useRef)(z),D=Object(r.useRef)(t),F=Object(r.useRef)(n),_=function(){return F.current},V=function(){return _().isVisible()&&_().isOnline()},H=function(e){return c.set(E,f(c.get(E),e))},K=c.get(z),G=s(l)?n.fallback[z]:l,U=s(K)?G:K,Z=c.get(E)||{},J=Z.error,X=!R.current,$=function(){return X&&!s(b)?b:!_().isPaused()&&(h?!s(U)&&n.revalidateIfStale:s(U)||n.revalidateIfStale)},q=!(!z||!t)&&(!!Z.isValidating||X&&$()),Q=function(e,t){var n=Object(r.useState)({})[1],o=Object(r.useRef)(e),i=Object(r.useRef)({data:!1,error:!1,isValidating:!1}),c=Object(r.useCallback)((function(e){var r=!1,c=o.current;for(var a in e){var u=a;c[u]!==e[u]&&(c[u]=e[u],i.current[u]&&(r=!0))}r&&!t.current&&n({})}),[]);return I((function(){o.current=e})),[o,i.current,c]}({data:U,error:J,isValidating:q},M),ee=Q[0],te=Q[1],ne=Q[2],re=Object(r.useCallback)((function(e){return o(void 0,void 0,void 0,(function(){var t,r,o,l,f,h,b,p,v,m,g,O,j;return i(this,(function(i){switch(i.label){case 0:if(t=D.current,!z||!t||M.current||_().isPaused())return[2,!1];l=!0,f=e||{},h=!x[z]||!f.dedupe,b=function(){return!M.current&&z===N.current&&R.current},p=function(){var e=x[z];e&&e[1]===o&&delete x[z]},v={isValidating:!1},m=function(){H({isValidating:!1}),b()&&ne(v)},H({isValidating:!0}),ne({isValidating:!0}),i.label=1;case 1:return i.trys.push([1,3,,4]),h&&(B(c,z,ee.current.data,ee.current.error,!0),n.loadingTimeout&&!c.get(z)&&setTimeout((function(){l&&b()&&_().onLoadingSlow(z,n)}),n.loadingTimeout),x[z]=[t.apply(void 0,k),L()]),j=x[z],r=j[0],o=j[1],[4,r];case 2:return r=i.sent(),h&&setTimeout(p,n.dedupingInterval),x[z]&&x[z][1]===o?(H({error:u}),v.error=u,g=y[z],!s(g)&&(o<=g[0]||o<=g[1]||0===g[1])?(m(),h&&b()&&_().onDiscarded(z),[2,!1]):(a(ee.current.data,r)?v.data=ee.current.data:v.data=r,a(c.get(z),r)||c.set(z,r),h&&b()&&_().onSuccess(r,z,n),[3,4])):(h&&b()&&_().onDiscarded(z),[2,!1]);case 3:return O=i.sent(),p(),_().isPaused()||(H({error:O}),v.error=O,h&&b()&&(_().onError(O,z,n),("boolean"==typeof n.shouldRetryOnError&&n.shouldRetryOnError||d(n.shouldRetryOnError)&&n.shouldRetryOnError(O))&&V()&&_().onErrorRetry(O,z,n,re,{retryCount:(f.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return l=!1,m(),b()&&h&&B(c,z,v.data,v.error,!1),[2,!0]}}))}))}),[z]),oe=Object(r.useCallback)(T.bind(u,c,(function(){return N.current})),[]);if(I((function(){D.current=t,F.current=n})),I((function(){if(z){var e=z!==N.current,t=re.bind(u,Y),n=0,r=W(z,j,(function(e,t,n){ne(f({error:t,isValidating:n},a(ee.current.data,e)?u:{data:e}))})),o=W(z,O,(function(e){if(0==e){var r=Date.now();_().revalidateOnFocus&&r>n&&V()&&(n=r+_().focusThrottleInterval,t())}else if(1==e)_().revalidateOnReconnect&&V()&&t();else if(2==e)return re()}));return M.current=!1,N.current=z,R.current=!0,e&&ne({data:U,error:J,isValidating:q}),$()&&(s(U)||S?t():C(t)),function(){M.current=!0,r(),o()}}}),[z,re]),I((function(){var e;function t(){var t=d(p)?p(U):p;t&&-1!==e&&(e=setTimeout(n,t))}function n(){ee.current.error||!v&&!_().isVisible()||!m&&!_().isOnline()?t():re(Y).then(t)}return t(),function(){e&&(clearTimeout(e),e=-1)}}),[p,v,m,re]),Object(r.useDebugValue)(U),h&&s(U)&&z)throw D.current=t,F.current=n,M.current=!1,s(J)?re(Y):J;return{mutate:oe,get data(){return te.data=!0,U},get error(){return te.error=!0,J},get isValidating(){return te.isValidating=!0,q}}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Z(),r=U(e),o=r[0],i=r[1],a=r[2],u=K(n,a),l=c,s=u.use;if(s)for(var d=s.length;d-- >0;)l=s[d](l);return l(o,i||u.fetcher,u)})},1476:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return a}));var r=n(1),o=n.n(r),i=n(8),c=Object.assign;function a(e){return o.a.createElement(i.a,c(c({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"ImagePlus24","data-old-api":"ImagePlus24"},e),{className:"ZDI ZDI--ImagePlus24"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M3 5.42a2.415 2.415 0 012.415-2.416h13.17a2.415 2.415 0 012.414 2.415V11.5a.75.75 0 01-1.5 0V5.42a.915.915 0 00-.915-.916H5.415a.915.915 0 00-.915.915v7.42a.75.75 0 01-1.5 0V5.42zm12.09 8.022a5.57 5.57 0 00-3.192 1.005l-2.053 1.435a8.52 8.52 0 01-4.882 1.538H4.5v1.16c0 .506.41.916.915.916H14a.75.75 0 010 1.5H5.415A2.415 2.415 0 013 18.58v-1.356c0-.72.585-1.305 1.305-1.305h.658a7.02 7.02 0 004.023-1.267l2.052-1.435a7.07 7.07 0 014.051-1.276h.191a.75.75 0 110 1.5h-.19zM6.5 8.937a2.417 2.417 0 114.833 0 2.417 2.417 0 01-4.833 0zm2.417-.917a.917.917 0 100 1.834.917.917 0 000-1.834zM19.5 14a.75.75 0 01.75.75v2h2a.75.75 0 010 1.5h-2v2a.75.75 0 01-1.5 0v-2h-2a.75.75 0 010-1.5h2v-2a.75.75 0 01.75-.75z",fillRule:"evenodd",clipRule:"evenodd"}))}function u(e){return o.a.createElement(i.a,c(c({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"ImagePlus24","data-old-api":"AddImage"},e),{className:"Zi Zi--AddImage"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M3 5.42a2.415 2.415 0 012.415-2.416h13.17a2.415 2.415 0 012.414 2.415V11.5a.75.75 0 01-1.5 0V5.42a.915.915 0 00-.915-.916H5.415a.915.915 0 00-.915.915v7.42a.75.75 0 01-1.5 0V5.42zm12.09 8.022a5.57 5.57 0 00-3.192 1.005l-2.053 1.435a8.52 8.52 0 01-4.882 1.538H4.5v1.16c0 .506.41.916.915.916H14a.75.75 0 010 1.5H5.415A2.415 2.415 0 013 18.58v-1.356c0-.72.585-1.305 1.305-1.305h.658a7.02 7.02 0 004.023-1.267l2.052-1.435a7.07 7.07 0 014.051-1.276h.191a.75.75 0 110 1.5h-.19zM6.5 8.937a2.417 2.417 0 114.833 0 2.417 2.417 0 01-4.833 0zm2.417-.917a.917.917 0 100 1.834.917.917 0 000-1.834zM19.5 14a.75.75 0 01.75.75v2h2a.75.75 0 010 1.5h-2v2a.75.75 0 01-1.5 0v-2h-2a.75.75 0 010-1.5h2v-2a.75.75 0 01.75-.75z",fillRule:"evenodd",clipRule:"evenodd"}))}},1477:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return a}));var r=n(1),o=n.n(r),i=n(8),c=Object.assign;function a(e){return o.a.createElement(i.a,c(c({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"EmoHappy24","data-old-api":"EmoHappy24"},e),{className:"ZDI ZDI--EmoHappy24"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M12 20.5a8.5 8.5 0 100-17 8.5 8.5 0 000 17zm0 1.5c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",fillRule:"evenodd",clipRule:"evenodd"}),o.a.createElement("path",{d:"M10 10.25a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zm6.5 0a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0z"}),o.a.createElement("path",{d:"M8.712 13.807a.75.75 0 01.98.406 2.488 2.488 0 001.352 1.347 2.503 2.503 0 003.263-1.347.75.75 0 011.386.575 3.99 3.99 0 01-2.164 2.159 4.004 4.004 0 01-5.222-2.16.75.75 0 01.405-.98z",fillRule:"evenodd",clipRule:"evenodd"}))}function u(e){return o.a.createElement(i.a,c(c({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"EmoHappy24","data-old-api":"Emotion"},e),{className:"Zi Zi--Emotion"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M12 20.5a8.5 8.5 0 100-17 8.5 8.5 0 000 17zm0 1.5c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",fillRule:"evenodd",clipRule:"evenodd"}),o.a.createElement("path",{d:"M10 10.25a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zm6.5 0a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0z"}),o.a.createElement("path",{d:"M8.712 13.807a.75.75 0 01.98.406 2.488 2.488 0 001.352 1.347 2.503 2.503 0 003.263-1.347.75.75 0 011.386.575 3.99 3.99 0 01-2.164 2.159 4.004 4.004 0 01-5.222-2.16.75.75 0 01.405-.98z",fillRule:"evenodd",clipRule:"evenodd"}))}},1500:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r,o,i=n(1441),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=function(e){return"function"==typeof e[1]?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}]},u=(r=i.b,o=function(e){return function(t,n,r){return r.revalidateOnFocus=!1,r.revalidateIfStale=!1,r.revalidateOnReconnect=!1,e(t,n,r)}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=a(e),i=n[0],u=n[1],l=n[2],s=(l.use||[]).concat(o);return r(i,u,c(c({},l),{use:s}))});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */},1707:function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function o(e){return!!e&&!!e[U]}function i(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Z}(e)||Array.isArray(e)||!!e[G]||!!e.constructor[G]||f(e)||h(e))}function c(e,t,n){void 0===n&&(n=!1),0===a(e)?(n?Object.keys:W)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function a(e){var t=e[U];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:f(e)?2:h(e)?3:0}function u(e,t){return 2===a(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){return 2===a(e)?e.get(t):e[t]}function s(e,t,n){var r=a(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function f(e){return _&&e instanceof Map}function h(e){return V&&e instanceof Set}function b(e){return e.o||e.t}function p(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Y(e);delete t[U];for(var n=W(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function v(e,t){return void 0===t&&(t=!1),g(e)||o(e)||!i(e)||(a(e)>1&&(e.set=e.add=e.clear=e.delete=m),Object.freeze(e),t&&c(e,(function(e,t){return v(t,!0)}),!0)),e}function m(){r(2)}function g(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function O(e){var t=J[e];return t||r(18,e),t}function j(){return D}function y(e,t){t&&(O("Patches"),e.u=[],e.s=[],e.v=t)}function x(e){w(e),e.p.forEach(k),e.p=null}function w(e){e===D&&(D=e.l)}function z(e){return D={p:[],l:D,h:e,m:!0,_:0}}function k(e){var t=e[U];0===t.i||1===t.i?t.j():t.O=!0}function S(e,t){t._=t.p.length;var n=t.p[0],o=void 0!==e&&e!==n;return t.h.g||O("ES5").S(t,e,o),o?(n[U].P&&(x(t),r(4)),i(e)&&(e=C(t,e),t.l||E(t,e)),t.u&&O("Patches").M(n[U].t,e,t.u,t.s)):e=C(t,n,[]),x(t),t.u&&t.v(t.u,t.s),e!==K?e:void 0}function C(e,t,n){if(g(t))return t;var r=t[U];if(!r)return c(t,(function(o,i){return I(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return E(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=p(r.k):r.o;c(3===r.i?new Set(o):o,(function(t,i){return I(e,r,o,t,i,n)})),E(e,o,!1),n&&e.u&&O("Patches").R(r,n,e.u,e.s)}return r.o}function I(e,t,n,r,c,a){if(o(c)){var l=C(e,c,a&&t&&3!==t.i&&!u(t.D,r)?a.concat(r):void 0);if(s(n,r,l),!o(l))return;e.m=!1}if(i(c)&&!g(c)){if(!e.h.F&&e._<1)return;C(e,c),t&&t.A.l||E(e,c)}}function E(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&v(t,n)}function R(e,t){var n=e[U];return(n?b(n):e)[t]}function A(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function P(e){e.P||(e.P=!0,e.l&&P(e.l))}function B(e){e.o||(e.o=p(e.t))}function M(e,t,n){var r=f(t)?O("MapSet").N(t,n):h(t)?O("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:j(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,i=X;n&&(o=[r],i=$);var c=Proxy.revocable(o,i),a=c.revoke,u=c.proxy;return r.k=u,r.j=a,u}(t,n):O("ES5").J(t,n);return(n?n.A:j()).p.push(r),r}function L(e){return o(e)||r(22,e),function e(t){if(!i(t))return t;var n,r=t[U],o=a(t);if(r){if(!r.P&&(r.i<4||!O("ES5").K(r)))return r.t;r.I=!0,n=T(t,o),r.I=!1}else n=T(t,o);return c(n,(function(t,o){r&&l(r.t,t)===o||s(n,t,e(o))})),3===o?new Set(n):n}(e)}function T(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return p(e)}n.d(t,"b",(function(){return Q}));var N,D,F="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),_="undefined"!=typeof Map,V="undefined"!=typeof Set,H="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,K=F?Symbol.for("immer-nothing"):((N={})["immer-nothing"]=!0,N),G=F?Symbol.for("immer-draftable"):"__$immer_draftable",U=F?Symbol.for("immer-state"):"__$immer_state",Z=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),W="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Y=Object.getOwnPropertyDescriptors||function(e){var t={};return W(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},J={},X={get:function(e,t){if(t===U)return e;var n=b(e);if(!u(n,t))return function(e,t,n){var r,o=A(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!i(r)?r:r===R(e.t,t)?(B(e),e.o[t]=M(e.A.h,r,e)):r},has:function(e,t){return t in b(e)},ownKeys:function(e){return Reflect.ownKeys(b(e))},set:function(e,t,n){var r=A(b(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=R(b(e),t),i=null==o?void 0:o[U];if(i&&i.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(d(n,o)&&(void 0!==n||u(e.t,t)))return!0;B(e),P(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==R(e.t,t)||t in e.t?(e.D[t]=!1,B(e),P(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=b(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},$={};c(X,(function(e,t){$[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),$.deleteProperty=function(e,t){return $.set.call(this,e,t,void 0)},$.set=function(e,t,n){return X.set.call(this,e[0],t,n,e[0])};var q=new(function(){function e(e){var t=this;this.g=H,this.F=!0,this.produce=function(e,n,o){if("function"==typeof e&&"function"!=typeof n){var c=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=c);for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var u;if("function"!=typeof n&&r(6),void 0!==o&&"function"!=typeof o&&r(7),i(e)){var l=z(t),s=M(t,e,void 0),d=!0;try{u=n(s),d=!1}finally{d?x(l):w(l)}return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(e){return y(l,o),S(e,l)}),(function(e){throw x(l),e})):(y(l,o),S(u,l))}if(!e||"object"!=typeof e){if(void 0===(u=n(e))&&(u=e),u===K&&(u=void 0),t.F&&v(u,!0),o){var f=[],h=[];O("Patches").M(e,u,f,h),o(f,h)}return u}r(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))};var r,o,i=t.produce(e,n,(function(e,t){r=e,o=t}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return[e,r,o]})):[i,r,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){i(e)||r(8),o(e)&&(e=L(e));var t=z(this),n=M(this,e,void 0);return n[U].C=!0,w(t),n},t.finishDraft=function(e,t){var n=(e&&e[U]).A;return y(n,t),S(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!H&&r(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=O("Patches").$;return o(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}()),Q=q.produce;q.produceWithPatches.bind(q),q.setAutoFreeze.bind(q),q.setUseProxies.bind(q),q.applyPatches.bind(q),q.createDraft.bind(q),q.finishDraft.bind(q);t.a=Q},1708:function(e,t,n){"use strict";n.d(t,"a",(function(){return ze}));var r=n(30),o=n.n(r),i=n(33),c=n.n(i),a=n(73),u=n.n(a),l=n(51),s=n.n(l),d=n(22),f=n.n(d),h=n(0),b=n(287),p=n(1),v=n.n(p),m=n(1441),g=n(1725),O=n(906),j=n(700),y=n(1343),x=n(123),w=n(629),z=n(1205),k=n(5),S=n(1500),C=n(53),I=n.n(C),E=n(45),R=n.n(E),A=n(1210),P=n(1260),B=n(1476),M=n(1477),L=n(382),T=n(9),N=n(3),D=n(660),F=n.n(D),_=n(19),V=n(47),H=["showCommentCheckModal"],K=function(e){var t=e.show,n=void 0===t||t,r=e.onOk,o=e.onCancel;return Object(h.b)(g.a,{onClose:o,css:{".Modal-content":{margin:0,padding:0}},children:n&&Object(h.c)(h.a,{children:[Object(h.b)(k.Image,{width:"400px",height:"148px",src:"https://pic1.zhimg.com/v2-a30b656aafdfedb44e43cc0a603b9b4b.png"}),Object(h.b)(k.Text,{my:"24px",height:"30px",fontSize:"24px",textAlign:"center",color:"GBK02A",fontWeight:"bold",children:"评论可能包含不友善内容"}),Object(h.b)(k.Text,{minHeight:"48px",p:"0 24px 33px",fontSize:"14px",lineHeight:"1.71",color:"GBK02A",children:"友善的交流是沟通的起点，请遵守知乎社区规范，认真友善发言"}),Object(h.c)(k.Flex,{m:"0 25px 33px",css:{button:{flex:1,height:"32px",fontSize:"14px",lineHeight:1}},children:[Object(h.b)(O.a,{onClick:r,preset:"primary",css:function(e){return{marginRight:"18px",color:e.colors.GBL05A}},children:"继续发布"}),Object(h.b)(O.a,{onClick:o,preset:"primary",color:"blue",children:"返回修改"})]})]})})};var G=Object(p.createContext)({authorInfo:{},resourceId:"",resourceType:"",onSubmit:I.a,showCommentCheckModal:function(){return Promise.resolve(!1)}}),U=function(){return Object(p.useContext)(G)},Z="https://www.zhihu.com/api/v4/comment_v5",W=["爱","害羞","酷","大笑","发呆"],Y=function(e){return{color:e.colors.GBL05A,fontSize:"24px",lineHeight:"24px",marginRight:"10px",svg:{width:"24px",height:"24px"}}},J=function(e,t,n){return"".concat(e,"_").concat(t).concat(n?"_".concat(n):"")},X=function(e,t,n){var r=J(e,t,n),o=(R.a.get("zhihu::comment_local_key")||[]).filter((function(e){return e.key!==r}));R.a.set("zhihu::comment_local_key",o)},$=function(e,t,n,r){var o=e.toHTML();if(o&&!e.isEmpty){var i=J(t,n,r),c=(R.a.get("zhihu::comment_local_key")||[]).filter((function(e){return e.key!==i}));R.a.set("zhihu::comment_local_key",[{key:i,value:o}].concat(s()(c.slice(0,4))))}else X(t,n,r)},q=function(){return R.a.get("zhihu::comment_emoticon_local_key")||W},Q={disableEmoticon:!1,disablePicture:!1,isAnonymous:!1,placeHolder:"",canReply:!0,permission:{picture:{have:!0,isVipPrivilege:!0},emoji:{have:!0}}},ee=function(){var e,t=U(),n=t.resourceType,r=t.resourceId,o=t.authorInfo,i=Object(S.a)("".concat(Z,"/").concat(n,"s/").concat(r,"/config")),c=i.data,a=i.isValidating;return!c||(null==o?void 0:o.id)&&(null===(e=c.placeHolder)||void 0===e?void 0:e.trim())||(c.placeHolder="写下你的评论..."),{data:c||Q,isValidating:a}},te=Object(p.memo)((function(e){var t=e.url,n=ee(),r=n.isValidating,o=n.data.isAnonymous;return t?r?Object(h.b)(k.Box,{size:"40px",mr:"10px",bg:"GBK10A",css:{borderRadius:"3px"}}):Object(h.b)(j.b,{url:o?j.a:t,size:40,css:{marginRight:"10px"}}):null})),ne=v.a.forwardRef((function(e,t){var r=e.value,o=e.autoFocus,i=e.placeholder,c=e.maxLine,a=e.disabled,u=e.onChange,l=e.onBlur,s=e.onToggleActions,d=Object(x.a)((function(){a||s(!0)})),f=Object(w.a)((function(){return Promise.all([n.e(1),n.e(0),n.e(3),n.e(7)]).then(n.bind(null,1217))}));return f?Object(h.b)("div",{css:{overflow:"hidden"},children:Object(h.b)("div",{css:c?{"::-webkit-scrollbar":{"-webkit-appearance":"none",width:"16px"},marginRight:"-16px",maxHeight:24*(c+.5),overflowY:"scroll"}:null,children:Object(h.b)(f,{ref:t,allowMention:!0,allowPasteRichText:!1,outputBlockType:"p",allowInlineCode:!0,defaultValue:r.toHTML(),autoFocus:o,placeholder:i,readOnly:a,onChange:u,onFocus:d,onBlur:l,uploadImageError:I.a,css:function(e){return{border:"none !important",background:"none !important",fontSize:"15px",".Editable":{"&--focus":{background:"transparent"},"&-unstyled":{margin:"0 !important"}},".RichText":{padding:0},".Dropzone":{minHeight:"auto !important"},".public-DraftEditorPlaceholder-root":{color:e.colors.GBK06A}}}})})}):Object(h.b)("div",{css:{height:"24px"}})})),re=function(e){return{fontSize:"15px",color:e.colors.GBL05A,"&.is-error":{color:e.colors.GRD03A}}},oe=function(e){var t=e.current,n=e.max,r=e.name,o=void 0===r?"字数":r,i=e.className,c=n-t;return t>n?Object(h.c)("span",{className:"".concat(i||""," is-error"),css:re,children:[o,"已超过 ",-c," 个字"]}):Object(h.b)("span",{className:i,css:re,children:c<=10&&"还可以输入 ".concat(c," 个字")})},ie=function(e){var t=e.valueLength,n=e.disabled,r=e.onSubmit,o=t>5e3;return Object(h.c)(k.Flex,{alignItems:"center",children:[Object(h.b)(oe,{max:5e3,current:t,css:{marginRight:"16px"}}),Object(h.b)(O.a,{preset:"primary",color:"blue",disabled:n||o,css:{lineHeight:"28px",fontWeight:"bold"},onClick:r,children:"发布"})]})},ce=function(e,t){var n,r,o=parseInt(null!==(n=t)&&void 0!==n?n:120,10),i=parseInt(null!==(r=e)&&void 0!==r?r:120,10),c=Math.max(120,Math.min(202,i)),a=Math.max(120,Math.min(202,o)),u=Math.min(Math.max(i/o,.5),2);return{width:u>1?c:a*u,height:u>1?c/u:a,ratio:u}},ae=function(e){var t=e.info,n=e.onRemove,r=Object(p.useState)(null),o=f()(r,2),i=o[0],c=o[1],a=t.file,u=t.src,l=t.width,s=t.height;return Object(p.useEffect)((function(){if(!u){var e=new Image;return e.src=URL.createObjectURL(a),e.onload=function(){c(Object.assign(Object.assign({},ce(e.width,e.height)),{},{src:e.src}))},function(){URL.revokeObjectURL(e.src)}}c(Object.assign(Object.assign({},ce(l,s)),{},{src:u}))}),[a,u,l,s]),i?Object(h.c)(k.Box,{width:i.width,height:i.height,mt:"8px",css:{position:"relative",borderRadius:"4px",overflow:"hidden"},children:[Object(h.b)(k.Image,{width:"100%",height:"100%",src:i.src,css:{objectFit:"cover",objectPosition:i.ratio<1?"center top":"unset"}}),"success"!==t.status&&Object(h.b)(k.Flex,{flexDirection:"column",alignItems:"center",justifyContent:"center",css:function(e){return{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:e.colorMod(e.colors.GBK02B).alpha(.5)}},children:Object(h.b)(k.Text,{color:"GBK99A",fontSize:"12x",children:"error"===t.status?"上传失败":"上传中"})}),Object(h.b)(k.Box,{size:"16px",fontSize:"8px",lineHeight:"16px",bg:"rgba(0, 0, 0, 0.1)",color:"GBK99A",css:function(e){return{position:"absolute",top:"8px",right:"8px",borderRadius:"50%",textAlign:"center",cursor:"pointer",backgroundColor:e.colorMod(e.colors.GBK02A).alpha(.1)}},onClick:n,children:Object(h.b)(P.b,{center:!0,size:"10px"})})]}):null},ue=function(e){var t=e.className;return Object(h.c)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"21",height:"14",fill:"none",children:[Object(h.b)("path",{d:"M7.486.504a6 6 0 1 0 0 12h7a6 6 0 1 0 0-12h-7z",fill:"url(#A)",stroke:"#f6f6f6"}),Object(h.c)("g",{fill:"#935d14",children:[Object(h.b)("path",{fillRule:"evenodd",d:"M8.459 9.431l2.465-5.366h-.916L8.401 7.751l-1.6-3.687h-.923L8.35 9.431h.109zm3.825 0V4.065h-.814v5.366h.814zm2.05 0V7.445h.284c.659 0 1.156-.153 1.491-.46s.502-.747.502-1.321c0-.496-.154-.887-.462-1.172s-.794-.427-1.458-.427h-1.178v5.366h.822zm.305-2.708h-.305V4.78h.378c.388 0 .664.09.829.27s.247.414.247.701c0 .268-.085.496-.254.686s-.468.285-.894.285z"}),Object(h.b)("path",{d:"M8.459 9.431v.146h.094l.039-.085-.133-.061zm2.465-5.366l.133.061.095-.207h-.228v.146zm-.916 0v-.146h-.096l-.038.088.134.058zM8.401 7.751l-.134.058.134.309.134-.309-.134-.058zm-1.6-3.687l.134-.058-.038-.088h-.096v.146zm-.923 0v-.146h-.229l.096.208.133-.061zM8.35 9.431l-.133.061.039.085h.094v-.146zm3.934 0v.146h.146v-.146h-.146zm0-5.366h.146v-.146h-.146v.146zm-.814 0v-.146h-.146v.146h.146zm0 5.366h-.146v.146h.146v-.146zm2.865 0v.146h.146v-.146h-.146zm0-1.986v-.146h-.146v.146h.146zm-.822-3.38v-.146h-.146v.146h.146zm0 5.366h-.146v.146h.146v-.146zm.822-2.708h-.146v.146h.146v-.146zm0-1.942v-.146h-.146v.146h.146zM8.592 9.492l2.465-5.366-.266-.122-2.465 5.366.266.122zm2.332-5.573h-.916v.293h.916v-.293zm-1.05.088L8.267 7.693l.268.117 1.607-3.687-.268-.117zM8.535 7.693l-1.6-3.687-.269.116 1.6 3.687.268-.116zM6.801 3.918h-.923v.293h.923v-.293zm-1.056.208l2.472 5.366.266-.122-2.472-5.366-.266.122zM8.35 9.577h.109v-.293H8.35v.293zm4.08-.146V4.065h-.293v5.366h.293zm-.146-5.512h-.814v.293h.814v-.293zm-.961.146v5.366h.293V4.065h-.293zm.146 5.512h.814v-.293h-.814v.293zm3.011-.146V7.445h-.293v1.986h.293zm-.146-1.839h.284v-.293h-.284v.293zm.284 0c.68 0 1.218-.158 1.589-.498l-.198-.216c-.297.273-.753.421-1.392.421v.293zm1.589-.498c.372-.341.549-.826.549-1.429h-.293c0 .545-.158.942-.454 1.214l.198.216zm.549-1.429c0-.529-.166-.962-.509-1.279l-.199.215c.272.252.415.6.415 1.064h.293zm-.509-1.279c-.347-.321-.877-.466-1.557-.466v.293c.648 0 1.09.14 1.358.388l.199-.215zm-1.557-.466h-1.178v.293h1.178v-.293zm-1.324.146v5.366h.293V4.065h-.293zm.146 5.512h.822v-.293h-.822v.293zm1.127-3.001h-.305v.293h.305v-.293zm-.159.146V4.78h-.293v1.942h.293zm-.146-1.796h.378v-.293h-.378v.293zm.378 0c.37 0 .597.087.721.223l.216-.198c-.205-.224-.532-.318-.937-.318v.293zm.721.223c.136.148.209.345.209.602h.293c0-.317-.092-.588-.286-.8l-.216.198zm.209.602c0 .234-.073.427-.217.589l.218.195a1.14 1.14 0 0 0 .292-.784h-.293zm-.217.589c-.128.143-.373.236-.785.236v.293c.441 0 .792-.097 1.003-.334l-.218-.195z"})]}),Object(h.b)("defs",{children:Object(h.c)("linearGradient",{id:"A",x1:"1.986",y1:"12.004",x2:"19.986",y2:"12.004",gradientUnits:"userSpaceOnUse",children:[Object(h.b)("stop",{stopColor:"#f8e2c4"}),Object(h.b)("stop",{offset:"1",stopColor:"#f3bb6c"})]})})]})},le=function(e){var t=e.file;return Object(L.e)(t,{shouldRotateFromOrientation:!1})},se=function(e){var t,n=e.image,r=e.permission,o=e.disabled,i=e.onStatusChange,c=e.onSuccess,a=Object(p.useRef)(null),u=U(),l=u.authorInfo,s=u.onError,d=u.onNeedLogin,f=u.onNeedPurchaseVip,b=r||{},v=b.have,m=b.isVipPrivilege,g=null===(t=null==l?void 0:l.vipInfo)||void 0===t?void 0:t.isVip,j=Object(x.a)((function(){var e;(null==l?void 0:l.id)?!m||v?null===(e=a.current)||void 0===e||e.click():null==f||f("comment_img"):null==d||d()})),y=Object(x.a)((function(e){i({status:"uploading",file:e.file})})),w=Object(x.a)((function(e){if(n){var t=e.remoteInfo,r=t.src,o=t.data_rawheight,a=t.data_rawwidth,u={status:"success",file:e.file,width:a,height:o,src:r};i(u),c(u)}})),z=Object(x.a)((function(e){if(n){var t=e.remoteInfo,r=t.code,o=t.message;i(Object.assign(Object.assign({},n),{},{status:"error"})),null==s||s("commentImageUploadError",r&&o||"图片上传失败",e.remoteInfo)}}));return Object(h.c)(h.a,{children:[Object(h.b)(L.c,{inputRef:a,preset:"content",accept:"image/png,image/jpeg",multiple:!1,customUpload:le,onStart:y,onSuccess:w,onError:z,disabled:o}),Object(h.b)(T.a,{zaType:"Button",zaText:"图片",as:O.a,preset:"plain",icon:function(e){var t=e.center,n=e.text;return Object(h.c)("div",{css:{position:"relative"},children:[Object(h.b)(B.b,{center:t,text:n}),m&&(!v||g)&&Object(h.b)(ue,{css:{position:"absolute",transform:"translate(-14px, -2.5px)",width:"20px !important",height:"13px !important"}})]})},disabled:o,onClick:j,css:Y})]})},de=function(e){var t,n=Object(S.a)(e?"https://www.zhihu.com/api/v4/sticker-groups/".concat(e):null).data;return null===(t=null==n?void 0:n.data)||void 0===t?void 0:t.stickers};var fe=function(e){var t,n,r,o=e.list,i=e.activeId,c=e.onSelectTab,a=Object(p.useRef)(null),u=(t=a,n=Object(p.useRef)({left:0,x:0}),r=Object(p.useRef)(!1),{onMouseDown:Object(x.a)((function(e){var o;r.current=!0;var i=(null===(o=t.current)||void 0===o?void 0:o.scrollLeft)||0,c=e.clientX;n.current={left:i,x:c},e.preventDefault()})),onMouseMove:Object(x.a)((function(e){if(r.current){var o=e.clientX-n.current.x;t.current&&(t.current.scrollLeft=n.current.left-o)}})),onMouseUp:Object(x.a)((function(){r.current&&(r.current=!1)}))});return Object(h.b)(k.Box,{height:"40px",overflow:"hidden",children:Object(h.b)("ul",Object.assign(Object.assign({ref:a,css:function(e){return{margin:0,padding:0,width:"100%",height:"40px",paddingBottom:"17px",boxSizing:"content-box",backgroundColor:e.colors.GBK10A,overflowX:"scroll",overflowY:"hidden",whiteSpace:"nowrap"}}},u),{},{children:o.map((function(e){var t=e.id,n=e.iconUrl,r=t===i;return Object(h.b)("li",{css:function(e){return{margin:0,display:"inline-block",alignItems:"center",width:"50px",height:"40px",textAlign:"center",verticalAlign:"bottom",backgroundColor:r?e.colors.GBK99A:"none"}},onClick:function(){c(e)},children:Object(h.b)("img",{alt:"",src:n,height:"40px"})},t)}))}))})},he=function(e){var t=e.type,n=e.data,r=e.onClick,o="emoji"===t,i=o?{width:24,height:24}:{width:66,height:62},c=n.dynamicImageUrl,a=n.staticImageUrl,u=n.title,l=function(e){c&&(e.currentTarget.src=c)},s=function(e){c&&(e.currentTarget.src=a)};return Object(h.c)("li",{css:function(e){return{padding:"5px",display:"inline-flex",flexDirection:"column",alignItems:"center",textAlign:"center",":hover":{backgroundColor:e.colors.GBK10A,cursor:"pointer"}}},onClick:function(){return r(t,n)},onKeyPress:function(e){" "===e.key&&r(t,n)},tabIndex:0,children:[Object(h.b)("img",{src:n.staticImageUrl,alt:u,title:o?u:"",loading:"lazy",css:i,onMouseOver:l,onMouseOut:s,onFocus:l,onBlur:s}),o||Object(h.b)("span",{css:function(e){return{flexShrink:1,maxWidth:i.width,maxHeight:"14px",fontSize:"12px",lineHeight:"14px",marginTop:"2px",color:e.colors.GBK06A}},children:u})]})},be=function(e){var t=Object(w.a)((function(){return Promise.all([n.e(38),n.e(46)]).then(n.t.bind(null,1713,7))}));return t?Object(h.b)(N.b,{children:function(n){var r=n.css;return Object(h.b)(t,Object.assign({containerClass:r({height:"185px",overflow:"hidden"}),wrapperClass:r({display:"flex"})},e))}}):Object(h.b)("div",{style:{height:183}})},pe=function(e){var t=e.type,n=e.groupId,r=e.onSelect,o=Object(p.useRef)(),i=de(n),c=Object(p.useState)({active:0,count:0}),a=f()(c,2),u=a[0],l=a[1],s=Object(p.useState)([]),d=f()(s,2),b=d[0],v=d[1],m=Object(x.a)((function(){var e,t=null===(e=o.current)||void 0===e?void 0:e.activeIndex;isNaN(t)||l({active:t,count:u.count})}));return Object(p.useEffect)((function(){if(!i)return v([]),void l({active:0,count:0});var e="emoji"===t?45:8;l({active:0,count:Math.ceil(i.length/e)}),v(F()(i,e))}),[t,i]),i?Object(h.c)(h.a,{children:[Object(h.b)(be,{activeSlideKey:"".concat(n,"-").concat(u.active),shouldSwiperUpdate:!0,getSwiper:function(e){o.current=e},on:{slideChange:m},children:b.map((function(e,o){return Object(h.b)("div",{css:{width:"100%",flexShrink:0},children:Object(h.b)("ul",{css:{padding:"5px 5px 0",margin:0},children:e.map((function(e){return Object(h.b)(he,{data:e,type:t,onClick:r},e.id)}))})},"".concat(n,"-").concat(o))}))}),Object(h.b)(k.Flex,{justifyContent:"center",height:"4px",mb:"4px",children:u.count>1&&Array.from({length:u.count},(function(e,t){return Object(h.b)(k.Box,{sx:Object.assign({width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"GBK08A",margin:"0 4px",cursor:"pointer",":hover":{backgroundColor:"GBK05A"}},t===u.active&&{backgroundColor:"GBK05A"}),onClick:function(){return l({active:t,count:u.count})}},t)}))})]}):Object(h.b)("div",{css:{height:"193px"}})},ve=function(e){var t=e.list,n=e.onSelect,r=Object(p.useState)((function(){return t[0]})),o=f()(r,2),i=o[0],c=o[1];return Object(h.c)(k.Box,{width:"316px",children:[Object(h.b)(pe,{type:i.type,groupId:i.id,onSelect:n}),Object(h.b)(fe,{list:t,activeId:i.id,onSelectTab:c})]})},me=function(e){var t,n,r=e.show,o=e.target,i=e.onSelect,c=e.onClose,a=(t=Object(S.a)("https://www.zhihu.com/api/v4/me/sticker-groups").data,n=null==t?void 0:t.data,de(null==n?void 0:n[0].id),n);return a?Object(h.b)(y.a,{className:"EmoticonPopover",isOpen:r,arrowed:!0,listenResize:!0,globalClose:!0,target:o,onClose:c,placement:"bottom",children:Object(h.b)(ve,{list:a,onSelect:i})}):null},ge=Object(p.memo)((function(e){var t=e.name,n=e.onClick,r=U().emoticonList,o=null==r?void 0:r.find((function(e){return e.title===t}));return o?Object(h.b)(k.Image,{src:o.static_image_url,alt:o.title,ml:"10px",width:"20px",height:"20px",css:{cursor:"pointer"},onClick:function(){return n("emoji",o)}}):null})),Oe=function(e){var t=e.onSelect,n=Object(p.useMemo)(q,[]);return U().emoticonList&&0!==n.length?Object(h.b)(k.Flex,{flexDirection:"row",alignItems:"center",sx:Object(A.a)({borderLeft:"1px solid",borderLeftColor:"GBK09A"}),children:n.map((function(e){return Object(h.b)(ge,{name:e,onClick:t},e)}))}):null},je=function(e){var t=e.inputRef,n=e.permission,r=e.onAddImage,o=Object(p.useRef)(null),i=U(),c=i.authorInfo,a=i.onNeedLogin,u=i.onNeedPurchaseVip,l=Object(z.a)(!1),d=f()(l,2),b=d[0],v=d[1],m=(n||{}).have,g=Object(x.a)((function(){(null==c?void 0:c.id)?v.toggle():null==a||a()})),j=Object(x.a)((function(e,n){var o,i,c,a;if("emoji"===e)null===(o=t.current)||void 0===o||o.handleCommand("insert-text:".concat(n.placeholder)),c=n.title,(a=R.a.get("zhihu::comment_emoticon_local_key")||W).includes(c)||R.a.set("zhihu::comment_emoticon_local_key",[c].concat(s()(a.slice(0,W.length-1))));else if("vip"!==e||m){var l=n.id,d=n.title,f=n.dynamicImageUrl,h=n.staticImageUrl;r({status:"success",id:l,title:d,src:f||h,isEmoticon:!0}),null===(i=t.current)||void 0===i||i.focus(),v.off()}else null==u||u("comment_sticker"),v.off()}));return Object(h.c)(h.a,{children:[Object(h.b)(me,{target:o.current,show:b,onSelect:j,onClose:v.off}),Object(h.b)(T.a,{zaType:"Button",zaText:"表情",as:O.a,ref:o,preset:"plain",icon:M.b,css:Y,onClick:g}),Object(h.b)(Oe,{onSelect:j})]})},ye=Object(p.forwardRef)((function(e,t){var n=e.inputRef,r=e.showSection,o=e.onChangeImage,i=e.children,c=ee().data,a=c.permission,u=c.disableEmoticon,l=c.disablePicture,s=a||{},d=s.picture,b=s.emoji,v=Object(p.useState)(null),m=f()(v,2),g=m[0],O=m[1],j=Object(x.a)((function(){O(null),o(null)})),y=Object(x.a)((function(e){O(e),o(e)}));return Object(p.useImperativeHandle)(t,(function(){return{reset:j}})),Object(h.c)(h.a,{children:[g&&Object(h.b)(ae,{info:g,onRemove:j}),r&&Object(h.c)(k.Flex,{mt:"8px",pt:"10px",justifyContent:"space-between",sx:Object(A.a)({borderTop:"1px solid",borderTopColor:"GBK09A"}),children:[Object(h.c)(k.Flex,{alignItems:"center",flex:"0 0 auto",children:[l||Object(h.b)(se,{image:g,permission:d,disabled:Boolean(g),onStatusChange:O,onSuccess:o}),u||Object(h.b)(je,{inputRef:n,permission:b,onAddImage:y})]}),i]})]})})),xe=function(e){var t=U(),n=t.resourceType,r=t.resourceId,o=t.replyCommentId,i=Object(p.useRef)(null),c=Object(p.useState)((function(){var t=e?function(e,t,n){var r=R.a.get("zhihu::comment_local_key")||[],o=J(e,t,n),i=r.find((function(e){return e.key===o}));return(null==i?void 0:i.value)||""}(n,r,o):"";return{toHTML:function(){return t},isEmpty:!t,length:t.length||0}})),a=f()(c,2),u=a[0],l=a[1],s=Object(p.useState)(0),d=f()(s,2),h=d[0],b=d[1],v=Object(x.a)((function(){e&&$(u,n,r,o)}));return Object(p.useEffect)((function(){return v}),[v]),Object(p.useEffect)((function(){var e,t=Object(V.findDOMNode)(i.current);t&&b(u.isEmpty?0:(null===(e=t.innerText||t.textContent)||void 0===e?void 0:e.length)||0)}),[u]),{richInputRef:i,value:u,valueLength:h,setValue:l,onBlur:v}},we=function(e){var t=e.className,n=e.authorInfo,r=e.isReply,o=e.localCache,i=e.placeholder,a=e.disabled,l=e.maxLine,s=e.autoFocus,d=xe(o),v=d.richInputRef,m=d.value,g=d.valueLength,O=d.setValue,j=d.onBlur,y=Object(p.useRef)(null),w=Object(p.useState)(null),z=f()(w,2),S=z[0],C=z[1],I=function(e){var t=Object(p.useRef)(null),n=Object(p.useState)(e),r=f()(n,2),o=r[0],i=r[1];return Object(p.useEffect)((function(){var e=function(e){var n,r;e.target&&document.body.contains(e.target)&&!(null===(n=t.current)||void 0===n?void 0:n.contains(e.target))&&!(null===(r=document.querySelector(".EmoticonPopover"))||void 0===r?void 0:r.contains(e.target))&&i(!1)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[]),[o,i,t]}(!1),E=f()(I,3),R=E[0],A=E[1],P=E[2],B=ee().data,M=B.canReply,L=B.placeHolder,T=function(e,t,n,r,o){var i=U(),a=i.authorInfo,l=i.resourceId,s=i.resourceType,d=i.replyCommentId,f=i.onError,h=i.onNeedLogin,v=i.onSubmit,m=i.showCommentCheckModal,g=Object(b.b)(),O=Object(p.useRef)(!1),j=Object(x.a)((function(){var e,n;null===(e=t.current)||void 0===e||e.reset(),null===(n=r.current)||void 0===n||n.reset(),X(s,l,d)})),y=Object(x.a)(function(){var e=u()(c.a.mark((function e(t,n){var r,o,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O.current){e.next=2;break}return e.abrupt("return");case 2:return O.current=!0,e.prev=3,e.next=6,g("".concat(Z,"/").concat(s,"s/").concat(l,"/comment"),{zsEncrypt:!0,method:"POST",body:Object(_.decamelizeKeys)({content:t,replyCommentId:d,unfriendlyCheck:n?"strict":"unstrict"})});case 6:o=e.sent,j(),v(o),e.next=23;break;case 11:if(e.prev=11,e.t0=e.catch(3),i=e.t0,40313!==(null==(a=null===(r=null==i?void 0:i.payload)||void 0===r?void 0:r.error)?void 0:a.code)){e.next=22;break}return e.next=18,m();case 18:e.sent&&(O.current=!1,y(t,!1)),e.next=23;break;case 22:null==f||f("commentSubmitError",(null==a?void 0:a.message)||i.statusMessage,i);case 23:return e.prev=23,O.current=!1,e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[3,11,23,26]])})));return function(t,n){return e.apply(this,arguments)}}());return Object(x.a)((function(){if(null==a?void 0:a.id){o&&$(e,s,l,d);var t=e.isEmpty?"":e.toHTML();n&&(t+=function(e){var t=e.src;if(e.isEmoticon){var n=e.id,r=e.title;return'<a class="comment_sticker" href="'.concat(t,'" data-sticker-id="').concat(n,'">').concat(r||"[sticker]","</a>")}var o=e.width,i=e.height,c=e.title,a=t.includes(".gif")?"comment_gif":"comment_img";return'<a class="'.concat(a,"\" href='").concat(t,"' data-width='").concat(o||"","' data-height='").concat(i||"","'>[").concat(c||"图片","]</a>")}(n)),y(t,!0)}else null==h||h()}))}(m,v,S,y,o),N=Object(p.useMemo)((function(){return M&&i||L}),[M,i,L]);return Object(p.useEffect)((function(){s&&v.current&&v.current.focus()}),[s,v]),Object(h.c)(k.Flex,{ref:P,flex:"1 1 auto",className:t,children:[Boolean(r)||Object(h.b)(te,{url:null==n?void 0:n.avatarUrl}),Object(h.c)(k.Box,{flex:"1 1 auto",p:"8px 12px",sx:{borderRadius:"4px",border:"1px solid",borderColor:"GBK09A"},children:[Object(h.b)(ne,{ref:v,disabled:a,value:m,autoFocus:s,placeholder:N,maxLine:l,onChange:O,onBlur:j,onToggleActions:A}),Object(h.b)(ye,{ref:y,inputRef:v,showSection:R,onChangeImage:C,children:Object(h.b)(ie,{disabled:m.isEmpty&&!S,valueLength:g,onSubmit:T})})]})]})},ze=function(e){var t=Object(b.b)(),n=e.authorInfo,r=e.resourceId,i=e.resourceType,c=e.replyCommentId,a=e.emoticonList,u=e.onError,l=e.onNeedLogin,s=e.onNeedPurchaseVip,d=e.onSubmit,v=function(){var e=Object(p.useState)(!1),t=f()(e,2),n=t[0],r=t[1],o=Object(p.useRef)(),i=Object(x.a)((function(){return r(!0),new Promise((function(e){o.current=e}))}));return{show:n,onOk:Object(x.a)((function(){var e;r(!1),null===(e=o.current)||void 0===e||e.call(o,!0),o.current=void 0})),onCancel:Object(x.a)((function(){var e;r(!1),null===(e=o.current)||void 0===e||e.call(o,!1),o.current=void 0})),showCommentCheckModal:i}}(),g=v.showCommentCheckModal,O=o()(v,H);return Object(h.c)(G.Provider,{value:Object(p.useMemo)((function(){return{authorInfo:n,resourceId:r,resourceType:i,replyCommentId:c,emoticonList:a,onError:u,onNeedLogin:l,onNeedPurchaseVip:s,onSubmit:d,showCommentCheckModal:g}}),[n,r,i,c,a,u,l,s,d,g]),children:[Object(h.b)(m.a,{value:{fetcher:t},children:Object(h.b)(we,Object.assign({},e))}),Object(h.b)(K,Object.assign({},O))]})}},1725:function(e,t,n){"use strict";var r,o=n(30),i=n.n(o),c=n(0),a=n(53),u=n.n(a),l=n(721),s={wrapper:{from:{opacity:0},enter:{opacity:1},leave:{opacity:0},config:{type:"tween",ease:"easeOut",duration:.3}},modal:{from:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{type:"tween",ease:"easeOut",duration:.3}},leave:{opacity:0,y:20,transition:{type:"tween",ease:"easeOut",duration:.3}}}},d=n(39),f=n.n(d),h=n(5),b=n(228),p=n(350),v=n(444);!function(e){e.Default="default",e.Large="large",e.FullPage="fullPage"}(r||(r={}));var m=n(270),g=function(e){var t=e.isTopLayer,n=e.variants,r=e.onClick;return Object(c.b)(b.a.div,{css:function(e){return{position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:0,backgroundColor:(0,e.colorMod)(e.colors.GBK02B).alpha(.65)}},initial:"from",animate:t?"enter":"leave",exit:"leave",variants:n,onClick:r},void 0)},O=n(22),j=n.n(O),y=n(123),x=n(891),w=n(1),z=function(){var e={count:0},t={},n=function(n,r){Object.keys(t).forEach((function(o){var i=t[o];i[r](Number(o)),Number(o)!==n&&i.setIsTopLayer(Number(o)===e.count)}))};return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.a,i=Object(w.useMemo)((function(){return++e.count}),[]),c=Object(w.useState)((function(){return i===e.count})),a=j()(c,2),l=a[0],s=a[1],d=Object(w.useRef)(!1),f=Object(y.a)((function(){t[i]={onMount:r,onUnmount:o,setIsTopLayer:s},n(i,"onMount")})),h=Object(y.a)((function(){d.current||(d.current=!0,e.count--,n(i,"onUnmount"),delete t[i])}));return Object(x.a)((function(){return f(),h})),{currentLayer:i,isTopLayer:l,unmount:h}}},k=n(509),S=n.n(k);function C(e,t){e&&(e.focus(t),e instanceof HTMLInputElement&&e.select())}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},r=n(S()(t)),o=r.length;if(o){var i=r.indexOf(document.activeElement);-1===i?("prev"===e&&C(r[o-1]),"next"===e&&C(r[0])):("prev"===e&&C(r[(i-1+o)%o]),"next"===e&&C(r[(i+1)%o]))}}var E,R=z(),A=function(e){var t=e.onKeyDown,n=void 0===t?u.a:t,r=e.children,o=R().isTopLayer,i=Object(w.useRef)(),c=Object(w.useRef)(),a=Object(w.useRef)(0),l=function(){c.current=document.activeElement,a.current=window.setTimeout((function(){i.current&&!i.current.contains(document.activeElement)&&I("next",i.current)}),100)},s=Object(y.a)((function(e){o&&(n&&n(e),e.defaultPrevented||"Tab"===e.key&&(e.preventDefault(),I(e.shiftKey?"prev":"next",i.current,(function(e){return e.filter((function(e){return"true"===e.contentEditable||!e.closest("[contentEditable]")}))}))))}));return Object(w.useLayoutEffect)((function(){return window.addEventListener("keydown",s),l(),function(){window.removeEventListener("keydown",s),clearTimeout(a.current),c.current&&!c.current.closest("[contentEditable]")&&C(c.current)}}),[s]),Object(w.cloneElement)(w.Children.only(r),{ref:i})},P=z(),B=function(e){var t=e.variants,n=e.maskClosable,r=e.zIndex,o=e.onBackDropClick,i=e.onKeyDown,a=e.children,u=P((function(e){return 1===e&&m.hide()}),(function(e){return 1===e&&m.show()})),l=u.isTopLayer,s=u.unmount;return Object(c.b)(A,{onKeyDown:i,children:Object(c.c)(b.a.div,{css:{position:"fixed",top:"0",right:"0",bottom:"0",left:"0",zIndex:r,display:"flex",flexDirection:"column",justifyContent:"center",overflowX:"hidden",overflowY:"auto"},style:l?void 0:{backgroundColor:"transparent"},initial:"from",animate:"enter",exit:"leave",onAnimationStart:function(e){"leave"===e&&s()},children:[Object(c.b)(g,{isTopLayer:l,variants:t,onClick:n?o:void 0},void 0),a]},void 0)},void 0)},M=n(708),L=n(1206),T=n(906),N=function(e){var t=e.onClick,n=Object(p.a)().colors.GBK99B;return Object(c.b)(T.a,{preset:"outline",css:{position:"absolute",top:"8px",right:"-60px",padding:"12px",border:"0",lineHeight:"normal"},"aria-label":"关闭",onClick:t,children:Object(c.b)(L.a,{size:24,css:{verticalAlign:"top",fill:n}},void 0)},void 0)},D=["children"],F=(E={},f()(E,r.Default,{width:"400px"}),f()(E,r.Large,{width:"536px"}),f()(E,r.FullPage,{width:"688px",height:"calc(100vh - 24px * 2)"}),E),_=Object(b.a)(h.Flex),V=function(e){var t=e.children,n=i()(e,D),o=n.size,a=n.spread,u=n.title,l=n.subtitle,s=n.footer,d=n.closeButton,f=n.buttonGroupOnly,b=n.hotKeyClosable,m=n.maskClosable,g=n.onClose,O=n.onScroll,j=n.transitionProps,x=n.className,w=n.zIndex,z=void 0===w?203:w,k=Object(y.a)(g),S=Object(y.a)((function(e){b&&"Escape"===e.key&&g()})),C=Object(p.a)().colors,I=C.GBK02B,E=C.GBK09A,R=!l&&f,A=o===r.FullPage,P=a||A&&!u&&!l;return Object(c.b)(B,{variants:Object(M.a)(j.wrapper),maskClosable:m,onBackDropClick:k,onKeyDown:S,zIndex:z,children:Object(c.c)(_,{flexDirection:"column",mx:"auto",maxHeight:"calc(100vh - 24px * 2)",css:Object.assign(Object.assign({position:"relative",zIndex:1,boxShadow:"0 5px 20px ".concat(Object(v.a)(I).alpha(.1)),boxSizing:"border-box",transition:"max-height .8s ease"},F[o]),{},{"&:focus":{outline:"none"}}),className:x,tabIndex:0,variants:Object(M.a)(j.modal),children:[Object(c.c)(h.Box,{overflow:"auto",bg:"GBK99A",height:A?"100%":"auto",css:{borderRadius:"2px"},children:[Boolean(u)&&Object(c.b)(h.Text,{as:"h3",mt:"40px",fontSize:R?"20px":"24px",fontWeight:"500",color:"GBK02A",textAlign:"center",className:"Modal-title",children:u},void 0),Boolean(l)&&Object(c.b)(h.Text,{py:"38px",mt:"4px",fontSize:"14px",lineHeight:1.5,color:"GBL05A",textAlign:"center",css:{a:{textDecoration:"underline"}},className:"Modal-subtitle",children:l},void 0),Object(c.b)(h.Box,{flex:"1",p:A?"0":"0 24px 32px",mt:"24px",lineHeight:1.7,opacity:1,css:P?{height:"100%",marginTop:"0"}:void 0,className:"Modal-content",onScroll:O,children:t},void 0),Boolean(s)&&Object(c.b)(h.Box,{p:"16px 24px",fontSize:"13px",lineHeight:"1.7",color:"GBL05A",bg:"GBK10A",css:{borderTop:"1px solid ".concat(E)},className:"Modal-footer",children:s},void 0)]},void 0),d||Object(c.b)(N,{onClick:k},void 0)]},void 0)},void 0)},H=["onExitComplete","children"],K=function(e){var t=e.onExitComplete,n=e.children,r=i()(e,H),o=Boolean(n);return Object(c.b)(l.a,{onExitComplete:t,children:o&&Object(c.b)(V,Object.assign(Object.assign({},r),{},{children:n}),void 0)},void 0)};K.defaultProps={size:"default",spread:!1,buttonGroupOnly:!1,hotKeyClosable:!0,maskClosable:!0,onClose:u.a,transitionProps:s};t.a=K},1782:function(e,t,n){"use strict";n.r(t);var r=n(16),o=n(0),i=n(891),c=n(123),a=n(492),u=n(1706),l=n(7),s=n.n(l),d=n(1),f=n(10),h=n(23),b=n(53),p=n.n(b),v=n(266),m=n(42),g=n(79),O=n(1374),j=n(229),y=n(211),x=n(37),w={fixed:"modal",bottom:"list"};t.default=Object(h.compose)(g.a)((function(e){var t=e.shown,n=e.className,l=e.resourceId,h=e.resourceType,b=e.author,g=e.isSelf,z=e.commentPattern,k=e.authRequired,S=e.hideFoldButton,C=e.hideBottomEditorShadow,I=e.byComment,E=e.targetLink,R=e.onMount,A=void 0===R?p.a:R,P=e.onClose,B=Object(f.useSelector)(m.b)||{},M=Object(f.useDispatch)(),L=Object(d.useState)(!1),T=Object(r.a)(L,2),N=T[0],D=T[1],F=Object(d.useState)(""),_=Object(r.a)(F,2),V=_[0],H=_[1],K=Object(d.useState)(""),G=Object(r.a)(K,2),U=G[0],Z=G[1],W=Object(d.useState)(null),Y=Object(r.a)(W,2),J=Y[0],X=Y[1];Object(i.a)(A);var $=Object(c.a)((function(){k(p.a)()})),q=Object(c.a)((function(e){"vip_badge"!==e?(H(e),D(!0)):a.a.show()})),Q=Object(c.a)((function(e){Z(e.id)})),ee=Object(c.a)((function(e){M(Object(y.i)(e.urlToken,!0))})),te=Object(c.a)((function(e,t){X(t)})),ne=Object(c.a)((function(e){M(Object(x.g)(e))})),re=Object(c.a)((function(e,t){M(Object(x.g)(t,"red"))}));return Object(o.c)("div",{style:{overflow:"unset"},children:[Object(o.b)(u.a,{shown:t,className:s()("Comments-container",n),css:{marginTop:"10px"},resourceId:l,resourceType:h,authorInfo:B,isResourceAuthor:(null==b?void 0:b.id)===B.id||g,displayType:w[z],hideFoldButton:S,hideBottomEditorShadow:C,anchorCommentId:I?String(I):null,targetLink:E,onClose:P,onNeedLogin:$,onNeedVip:q,onReport:Q,onUserBlocked:ee,onShowImage:te,onMessage:ne,onError:re}),t&&Object(o.c)(o.a,{children:[Object(o.b)(O.b,{show:N,setShow:D,type:V}),Object(o.b)(j.a,{shown:Boolean(U),onClose:function(){return Z("")},urlToken:U,type:"comment",zaEnabled:!0}),J&&Object(o.b)(v.a,{img:J,css:{zIndex:"203 !important"},onClose:function(){return X(null)}})]})]})}))},1783:function(e,t,n){"use strict";var r=n(0),o={display:"flex",flexDirection:"column",marginTop:"14px",marginBottom:"16px",".Button":{display:"block",width:"220px",margin:"0 auto",flex:"initial"},".Button + .Button":{marginTop:"28px"}},i={display:"flex",marginTop:"48px",".Button":{flex:1,"&:first-child:last-child":{width:"220px",margin:"0 auto",flex:"initial"}},".Button + .Button":{marginLeft:"16px"}};t.a=function(e){var t=e.className,n=e.direction,c=void 0===n?"vertical":n,a=e.children;return Object(r.b)("div",{className:t,css:"vertical"===c?o:i,children:a},void 0)}},1784:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),o=n.n(r),i=n(8),c=Object.assign;function a(e){return o.a.createElement(i.a,c(c({width:"16",height:"16",viewBox:"0 0 16 16","data-new-api":"ArrowRightAlt16","data-old-api":"ArrowRightAlt16"},e),{className:"ZDI ZDI--ArrowRightAlt16"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M10.727 7.48a.63.63 0 010 1.039l-4.299 2.88c-.399.268-.926-.028-.926-.519V5.12c0-.491.527-.787.926-.52l4.299 2.881z"}))}},1785:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),o=n.n(r),i=n(8),c=Object.assign;function a(e){return o.a.createElement(i.a,c(c({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"LockOpenFill24","data-old-api":"LockOpenFill24"},e),{className:"ZDI ZDI--LockOpenFill24"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M3.5 11.6A1.6 1.6 0 015.1 10h2.166c0-.177-.003-.377-.007-.594-.02-1.105-.048-2.662.35-3.996.246-.823.67-1.63 1.405-2.227.743-.603 1.73-.933 2.986-.933 1.11 0 2.013.257 2.725.74.71.481 1.171 1.146 1.468 1.86a.75.75 0 01-1.386.575c-.21-.508-.508-.912-.924-1.194-.415-.28-1.008-.481-1.883-.481-.985 0-1.616.253-2.04.598-.432.35-.724.856-.914 1.492-.324 1.085-.304 2.348-.287 3.46.004.242.007.476.007.7H18.9a1.6 1.6 0 011.6 1.6v7.8a1.6 1.6 0 01-1.6 1.6H5.1a1.6 1.6 0 01-1.6-1.6v-7.8zm4.75 3.9a.75.75 0 01.75-.75h6a.75.75 0 010 1.5H9a.75.75 0 01-.75-.75z",fillRule:"evenodd",clipRule:"evenodd"}))}},1786:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),o=n.n(r),i=n(8),c=Object.assign;function a(e){return o.a.createElement(i.a,c(c({width:"16",height:"16",viewBox:"0 0 16 16","data-new-api":"ArrowShapeUpToLineSlashFill16","data-old-api":"ArrowShapeUpToLineSlashFill16"},e),{className:"ZDI ZDI--ArrowShapeUpToLineSlashFill16"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M3 2a1 1 0 100 2h10.444a1 1 0 100-2H3zm5.777 2.698a.88.88 0 00-1.11 0L5.919 6.119l5.849 3.377h.888c.677 0 .98-.852.454-1.28L8.776 4.699zm2.091 5.434l-5.78-3.338-.002.001L4 6.168A1 1 0 003 7.9l.424.245-.088.072c-.526.427-.223 1.279.454 1.279h1.787v3.924c0 .398.322.72.72.72h3.851a.72.72 0 00.72-.72v-.977l1.625.938a1 1 0 101-1.732l-2.625-1.515v-.002z"}))}},1787:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),o=n.n(r),i=n(8),c=Object.assign;function a(e){return o.a.createElement(i.a,c(c({width:"16",height:"16",viewBox:"0 0 16 16","data-new-api":"ArrowShapeUpToLineFill16","data-old-api":"ArrowShapeUpToLineFill16"},e),{className:"ZDI ZDI--ArrowShapeUpToLineFill16"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M2.778 1.93a1 1 0 000 2h10.444a1 1 0 100-2H2.778zm5.777 2.697a.88.88 0 00-1.11 0l-4.33 3.52c-.527.427-.225 1.278.453 1.278h1.787v3.925c0 .397.322.72.72.72h3.851a.72.72 0 00.72-.72V9.425h1.786c.678 0 .98-.851.454-1.279l-4.33-3.519z"}))}},1788:function(e,t,n){"use strict";var r,o=n(30),i=n.n(o),c=n(186),a=n.n(c),u=n(0),l=n(3),s=["className","duration","count","fill","childWidth","gap"],d=Object(l.h)(r||(r=a()(["\n0%, 100% {transform: translateY(-100%);}\n50% {transform: translateY(100%);}\n"])));t.a=function(e){var t=e.className,n=e.duration,r=void 0===n?.8:n,o=e.count,c=void 0===o?4:o,a=e.fill,l=e.childWidth,f=void 0===l?6:l,h=e.gap,b=void 0===h?12:h,p=i()(e,s),v=(f+b)*c-b;return Object(u.b)("div",Object.assign(Object.assign({className:"BounceLoading ".concat(t||""),css:{position:"relative"},style:{width:v,height:3*f}},p),{},{children:Array(c).fill(0).map((function(e,t){return Object(u.b)("span",{className:"BounceLoading-child",css:function(e){return{position:"absolute",backgroundColor:e.colors.GBL01A,borderRadius:"50%",transformOrigin:"center",animationIterationCount:"infinite",animationName:d,animationTimingFunction:"ease-in-out",animationFillMode:"both"}},style:{top:f,left:(f+b)*t,width:f,height:f,backgroundColor:a,animationDuration:"".concat(r,"s"),animationDelay:"".concat(-r/c/2*t,"s")}},"circle-".concat(t))}))}),void 0)}},1789:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),o=n.n(r),i=n(8),c=Object.assign;function a(e){return o.a.createElement(i.a,c(c({width:"16",height:"16",viewBox:"0 0 16 16","data-new-api":"Fliter16","data-old-api":"Fliter16"},e),{className:"ZDI ZDI--Fliter16"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M2.06 3.078c-.577-.682-.092-1.728.802-1.728H13.14a1.05 1.05 0 01.803 1.726l-3.418 4.061v5.092c0 .43-.261.816-.66.975l-2.95 1.18a1.05 1.05 0 01-1.44-.975V7.113L2.06 3.078zm1.341-.428l3.125 3.693c.16.19.249.43.249.679v6.018l2.45-.98V7.046c0-.247.087-.487.247-.676l3.131-3.72H3.401z",fillRule:"evenodd",clipRule:"evenodd"}))}},1790:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),o=n.n(r),i=n(8),c=Object.assign;function a(e){return o.a.createElement(i.a,c(c({width:"16",height:"16",viewBox:"0 0 16 16","data-new-api":"QuestionCircleFill16","data-old-api":"QuestionCircleFill16"},e),{className:"ZDI ZDI--QuestionCircleFill16"+(e.className?" ".concat(e.className):"")}),o.a.createElement("path",{d:"M8 15A7 7 0 108 1a7 7 0 000 14zm-.91-8.94c-.13.232-.14.5-.14.574a.65.65 0 01-1.3 0c0-.132.007-.68.31-1.214.333-.59.977-1.07 2.04-1.07 1.095 0 1.8.564 2.13 1.29.3.665.28 1.456.02 2.001-.153.32-.39.533-.6.683-.15.106-.326.207-.462.284l-.11.063c-.333.196-.333.258-.333.326V9a.65.65 0 01-1.3 0c0-.844.616-1.24.975-1.45.067-.04.126-.073.18-.104a3.3 3.3 0 00.295-.18.524.524 0 00.182-.186c.087-.18.12-.57-.032-.904-.123-.272-.373-.526-.945-.526-.604 0-.81.235-.91.41zM8.8 11.1a.8.8 0 11-1.6 0 .8.8 0 011.6 0z",fillRule:"evenodd",clipRule:"evenodd"}))}}}]);
//# sourceMappingURL=column.comments-v3.c9033417f8178378a71e.js.map